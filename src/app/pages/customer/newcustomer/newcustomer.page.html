<ion-header no-border>
  <ion-toolbar color="medium">
    <ion-buttons slot="start">
      <ion-back-button style="color: azure" defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title>Info Cliente</ion-title>
  </ion-toolbar>
</ion-header>

<!-- Cargando -->
<ion-content *ngIf="loading">
  <ion-row class="ion-justify-content-center ion-align-items-center" style="height: 100%;">
    <ion-col size="auto">
      <img src="/assets/carga2-127.gif" alt="Cargando...">
    </ion-col>
  </ion-row>
</ion-content>

<!-- Formulario -->
<ion-content *ngIf="!loading" class="formulario-content">
  <form (ngSubmit)="register(fRegistro)" #fRegistro="ngForm" class="customer-form">

    <ion-card class="form-card">

      <ion-list>

        <!-- Nombres -->
        <ion-item lines="full">
          <ion-icon name="person" slot="start"></ion-icon>
          <ion-input
            name="name"
            type="text"
            placeholder="Nombres"
            [(ngModel)]="registerCustomer.name"
            required>
          </ion-input>
        </ion-item>

        <!-- Apellidos -->
        <ion-item lines="full">
          <ion-icon name="person" slot="start"></ion-icon>
          <ion-input
            name="last_name"
            type="text"
            placeholder="Apellidos"
            [(ngModel)]="registerCustomer.last_name"
            required>
          </ion-input>
        </ion-item>

        <!-- Dirección -->
        <ion-item lines="full">
          <ion-icon name="home" slot="start"></ion-icon>
          <ion-input
            name="address"
            type="text"
            placeholder="Dirección"
            [(ngModel)]="registerCustomer.address"
            required>
          </ion-input>
        </ion-item>

        <!-- Teléfono -->
        <ion-item lines="full">
          <ion-icon name="call" slot="start"></ion-icon>
          <ion-input
            name="cellphone"
            type="tel"
            placeholder="Teléfono"
            [(ngModel)]="registerCustomer.cellphone"
            required>
          </ion-input>
        </ion-item>

        <!-- Email -->
        <ion-item lines="full">
          <ion-icon name="mail" slot="start"></ion-icon>
          <ion-input
            name="email"
            type="email"
            placeholder="Email"
            [(ngModel)]="registerCustomer.email">
          </ion-input>
        </ion-item>

        <!-- Identificación -->
        <ion-item lines="full">
          <ion-icon name="card" slot="start"></ion-icon>
          <ion-input
            name="identification_number"
            type="text"
            placeholder="Identificación"
            [(ngModel)]="registerCustomer.identification_number"
            required>
          </ion-input>
        </ion-item>

        <!-- Género -->
        <ion-item lines="full">
          <ion-icon name="transgender" slot="start"></ion-icon>
          <ion-select
            [(ngModel)]="registerCustomer.gender"
            name="gender"
            placeholder="Género"
            required>
            <ion-select-option value="f">Femenino</ion-select-option>
            <ion-select-option value="m">Masculino</ion-select-option>
          </ion-select>
        </ion-item>

        <!-- Observaciones -->
        <ion-item lines="full">
          <ion-icon name="document" slot="start"></ion-icon>
          <ion-input
            name="observation"
            type="text"
            placeholder="Observaciones"
            [(ngModel)]="registerCustomer.observation">
          </ion-input>
        </ion-item>

        <!-- Cartera -->
        <ion-item lines="full">
          <ion-icon name="wallet" slot="start"></ion-icon>
          <ionic-selectable
            name="wallet"
            [(ngModel)]="selectedWallet"
            [items]="wallets"
            itemValueField="wallet_id"
            itemTextField="name"
            placeholder="Cartera"
            [canSearch]="true"
            (onChange)="walletChange($event)"
            required>
          </ionic-selectable>
        </ion-item>

      </ion-list>

    </ion-card>

    <!-- Botones -->
    <div class="form-buttons">
      <ion-button color="medium" type="submit" expand="block">Guardar</ion-button>
      <ion-button color="medium" *ngIf="isUpdate" expand="block" (click)="createService()">Nuevo Servicio</ion-button>
      <ion-button color="medium" *ngIf="isUpdate" expand="block" (click)="verCuentas()">Ver Cuentas</ion-button>
    </div>

  </form>
</ion-content>
